The basic framework of the login system comes from the finance pset, so I would like to give credit to that here. Upon registering a user, a folder is made for them to store their analysis.  

The first step for the analysis is to input different conditions and parameters. This is done through a form that posts its results to the analysis route in application.py. Once the analysis route receives the data from the form, it calls functions from aero.py to actually carry out the analysis. Once these functions in aero.py complete the analysis, the analysis route renders a template showing plots with all of the results. 


The file aero.py contains all of the functions responsible for carrying out the aerodynamic analysis. The functions in aero.py make use of the XFOIL implementation in Python to conduct the analysis. Once the analysis is complete, the functions in aero.py save the plots as images in the path /static/plots/{user_id}/. This means that each user gets their own folder in static/plots/ for which their analysis is stored. If the user runs another analysis, the same image files are overwritten with the new plots. This means that at most each user will have 5 files in their folder. I know this might seem like bad design to create a folder for each user. I originally tried to convert each plot to html using a tool for displaying matplotlib plots in browser (https://mpld3.github.io/quickstart.html), but the tool seems to be poorly made, and it messes up the data in the plots. Because of this, I decided it would be best to simply save the images and overwrite them as users run more analyses. 

There is an SQL table called analyses. This table stores enough information to rerun any analysis, and this is exactly how the favorites and history pages work. The history page just has to display a list of analyses and their timestamps, which is trivial given that there is an SQL table containing this information. The favorites page is a little more complicated. When the user clicks "Save to Favorites," a boolean column for favorites changes to true for their analysis in the analyses table. Then, the favorited analyses are shown the same way the history is, but there is an additional option: a button for each favorited analysis to view its results. When the user clicks this button, the necessary data to rerun the analysis is posted to the analysis route, and the analysis is carried out and the results displayed. 